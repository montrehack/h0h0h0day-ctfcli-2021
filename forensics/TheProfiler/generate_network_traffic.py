import requests
import logging


def main():
    log = logging.getLogger("main")
    log.addHandler(logging.StreamHandler())
    log.setLevel(logging.DEBUG)
    FLAG = "FLAG-1a6c9dbc70eafe8f021648f10d22a3a1000"
    FLAG_ASCII_ART = """.#######  #         . #      #####      .  
.#        #         .# #    # .   #     .  
.#        #         #   #   # .         .  
.#####    #        #.    #  # .####  ##### 
.#        #        #######  # .   #     .  
.#        #        #.    #  # .   #     .  
.#        #######  #.    #   #####      .  
.         .         .         .         .  
.  #      .      #####        .   ##### .  
. ##      ##    #   . #   ####.  #     #.  
.# #     #. #   #   .    #    #  #     #.  
.  #    # .  #  ######   #    .   ######.  
.  #    ######  #   . #  #    .        #.  
.  #    # .  #  #   . #  #    #  #     #.  
.#####  # .  #   #####    ####.   ##### .  
.         .         .         .         .  
.         .         .    #######    ### .  
.#####   #####    ####   #    #    #   #.  
.#    #  #.   #  #  . #      #.   #     #  
.#    #  #####   #  .       # .   #     #  
.#    #  #.   #  #  .      #  .   #     #  
.#    #  #.   #  #  . #    #  .    #   #.  
.#####   #####    ####     #  .     ### .  
.         .         .         .         .  
.         .         .         .   ##### .  
.######   .##    ######  ######  #     #.  
.#        #  #   #  .    #    .  #     #.  
.#####   #.   #  #####   #####.   ##### .  
.#       ######  #  .    #    .  #     #.  
.#       #.   #  #  .    #    .  #     #.  
.######  #.   #  #  .    ######   ##### .  
.         .         .         .         .  
.         .###     #####     #.    #####.  
.######   #   #   # .   #   ##.   #     #  
.#       #.    #    .   #  # #.   #     .  
.#####   #.    #   #####     #.   ######.  
.#       #.    #  # .        #.   #     #  
.#        #   #   # .        #.   #     #  
.#        .###    #######  #####   #####.  
.         .         .         .         .  
.#        .#####    .        #.     ### .  
.#    #   #     #  ######   ##.    #   #.  
.#    #   #     #  #.      # #.   #     #  
.#    #   .#####   #####     #.   #     #  
.#######  #     #  #.        #.   #     #  
.     #   #     #  #.        #.    #   #.  
.     #   .#####   #.      #####    ### .  
.         .         .         .         .  
.         #####    #####      .     #####  
.#####   #.    #  # .   #    ##    #    .# 
.#    #   .    #    .   #   # .#        .# 
.#    #   #####    #####   #  . #   #####  
.#    #  #.       # .      ######       .# 
.#    #  #.       # .      #  . #  #    .# 
.#####   #######  #######  #  . #   #####  
.         .         .         .         .  
.         .#      ###      ###.     ### .  
.  ##     ##     #  .#    #   #    #   #.  
. #  #   #.#    #   . #  #    .#  #     #  
.#    #   .#    #   . #  #    .#  #     #  
.######   .#    #   . #  #    .#  #     #  
.#    #   .#     #  .#    #   #    #   #.  
.#    #  #####    ###      ###.     ### .  
.         .         .         .         .  """
    # FLAG_ASCII_ART = FLAG_ASCII_ART.replace(' ', '.')
    lines = FLAG_ASCII_ART.split("\n")
    for line in lines:
        headers = {
            'host': line[20:30],
            'User-Agent': line[10:20],
            'Accept-Encoding': line[40:50],
            'Accept': line[30:40],
            'Connection': line[0:10],
        }
        response = requests.get("http://perdu.com/flag", headers=headers)
        log.debug(headers)
        log.info(response)
        log.debug(response.text)


if __name__ == '__main__':
    main()
